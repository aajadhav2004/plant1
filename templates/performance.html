<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Performance | Medicinal Plant Identification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
</head>

<body>
    {% include 'includes/header.html' %}
    <style>
        .performance-container {
            max-width: 1200px;
            margin: 80px auto 0;
            padding: 20px;
        }

        .performance-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .performance-header h1 {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .performance-header p {
            color: #555;
            font-size: 18px;
        }

        .metrics-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .metric-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin: 10px;
            width: 200px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-value {
            font-size: 36px;
            font-weight: bold;
            color: #2e7d32;
            margin: 10px 0;
        }

        .metric-label {
            color: #555;
            font-size: 16px;
        }

        .graphs-container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .graph-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 100%;
            max-width: 48%;
        }

        @media (max-width: 992px) {
            .graphs-container {
                flex-direction: column;
            }

            .graph-card {
                max-width: 700px;
            }
        }

        .graph-title {
            text-align: center;
            color: #2e7d32;
            margin-bottom: 20px;
        }

        .graph-image {
            width: 100%;
            height: auto;
        }

        .model-info {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 40px;
        }

        .model-info h2 {
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .info-item {
            margin-bottom: 15px;
        }

        .info-label {
            font-weight: bold;
            color: #555;
        }

        .info-value {
            color: #333;
        }
    </style>
    </head>

    <body>
        <nav class="navbar">
            <div class="logo">
                <img src="{{ url_for('static', filename='css/leaf-icon.svg') }}" alt="Leaf Icon">
                <h1>Medicinal Plant Identifier</h1>
            </div>
            <div class="nav-links">
                <a href="{{ url_for('home') }}" class="nav-link">Home</a>
                <a href="{{ url_for('index') }}" class="nav-link">Identify</a>
                <a href="{{ url_for('performance') }}" class="nav-link active">Performance</a>
                <a href="{{ url_for('profile') }}" class="nav-link">Profile</a>
                <button id="logout-btn" class="btn logout-btn">Logout</button>
            </div>
        </nav>

        <div class="performance-container">
            <div class="performance-header">
                <h1>Model Performance Metrics</h1>
                <p>Detailed analysis of the Medicinal Plant Identification model training and evaluation</p>
            </div>

            <div class="metrics-container">
                <div class="metric-card">
                    <div class="metric-label">Training Accuracy</div>
                    <div class="metric-value">97.2%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Validation Accuracy</div>
                    <div class="metric-value">98.5%</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Final Loss</div>
                    <div class="metric-value">0.12</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">F1 Score</div>
                    <div class="metric-value">0.96</div>
                </div>
            </div>

            <div class="graphs-container">
                <div class="graph-card">
                    <h2 class="graph-title">Training and Validation Loss</h2>
                    <img src="{{ url_for('static', filename='images/loss_graph.svg') }}" alt="Loss Graph"
                        class="graph-image">
                </div>

                <div class="graph-card">
                    <h2 class="graph-title">Training and Validation Accuracy</h2>
                    <img src="{{ url_for('static', filename='images/accuracy_graph.svg') }}" alt="Accuracy Graph"
                        class="graph-image">
                </div>
            </div>

            <div class="model-info">
                <h2>Model Architecture and Training Details</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Model Architecture:</div>
                        <div class="info-value">Xception CNN (Transfer Learning)</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Number of Classes:</div>
                        <div class="info-value">201+ Medicinal Plant Species</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Training Epochs:</div>
                        <div class="info-value">8</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Batch Size:</div>
                        <div class="info-value">1</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Optimizer:</div>
                        <div class="info-value">Adam (Learning Rate: 0.001)</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Data Augmentation:</div>
                        <div class="info-value">Rotation, Zoom, Flip, Shift</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Training Dataset Size:</div>
                        <div class="info-value">~12,081 images</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Validation Dataset Size:</div>
                        <div class="info-value">~6,013 images</div>
                    </div>
                </div>
            </div>

            <div class="model-info">
                <h2>Performance Analysis</h2>
                <p>The model shows excellent performance with high accuracy on both training and validation datasets.
                    The
                    training process demonstrates consistent improvement across epochs, with the validation accuracy
                    slightly higher than training accuracy, indicating good generalization without overfitting.</p>
                <p>The loss curves show a steady decrease throughout training, stabilizing around epoch 6-7, suggesting
                    that
                    8 epochs was sufficient for model convergence. The final model achieves over 97% accuracy on the
                    training set and 98.5% on the validation set, making it highly reliable for medicinal plant
                    identification tasks.</p>
                <p>The model was trained using transfer learning with Xception CNN as the base architecture, which
                    provides
                    a good balance between accuracy and computational efficiency, making it suitable for deployment in
                    resource-constrained environments like Web applications.</p>
            </div>
        </div>

        <script src="{{ url_for('static', filename='js/firebase.js') }}"></script>
        <script src="{{ url_for('static', filename='js/main.js') }}"></script>
        <script>
            // Initialize Firebase and add logout functionality
            document.addEventListener('DOMContentLoaded', function () {
                const logoutBtn = document.getElementById('logout-btn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', window.signOutUser);
                }
            });
        </script>
    </body>

</html>